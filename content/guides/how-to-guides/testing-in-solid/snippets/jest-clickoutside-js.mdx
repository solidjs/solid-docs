```js
import { onCleanup } from "solid-js";

export function clickOutside(node, handlerAccessor) {
  const handler = (ev) =>
    node.contains(ev.target) || handlerAccessor()?.(ev);
  document.body.addEventListener("click", handler);
  onCleanup(() => document.body.removeEventListener("click", handler));
}
```