---
title: produce
use_cases: >-
  immutable-style mutations, complex store updates, nested object modifications,
  immer-like patterns
tags:
  - immutable-mutations
  - nested-updates
  - immer-pattern
  - store-utilities
version: '1.0'
---

`produce` is an [Immer](https://immerjs.github.io/immer/) inspired API for Solid's Store objects that allows the store to be mutated inside the `produce` function.

```ts
import { produce } from "solid-js/store"
import type { NotWrappable, Store } from "solid-js/store"

function produce<T>(
	fn: (state: T) => void
): (
	state: T extends NotWrappable ? T : Store<T>
) => T extends NotWrappable ? T : Store<T>;
```

For use with `createStore`:

```tsx
import { produce } from "solid-js/store";

const [state, setState] = createStore({
	user: {
		name: "John",
		age: 30,
	},
	list: ["book", "pen"],
});

setState(
	produce((state) => {
		state.user.name = "Jane";
		state.list.push("pencil");
	})
);
```
